(function(){"use strict";var e={6329:function(e,t,n){var s=n(5130),a=n(6768),o=n(4232);const i={id:"app",ref:"chatContainer"},r={class:"App",ref:"chatContent"},l=(0,a.Lk)("div",{class:"menu-line"},null,-1),u=(0,a.Lk)("div",{class:"menu-line"},null,-1),c=(0,a.Lk)("div",{class:"menu-line"},null,-1),p=[l,u,c],d={key:0,class:"expanded-content"},h=(0,a.Lk)("div",null,"THIS IS NOT A SECURE STORAGE YET, CHAT HISTORIES ARE KINDA PUBLIC, ITS WIP",-1),g={class:"profile-section"},m={class:"grade-dropdown"},f=["value"],y={key:0,class:"profile-menu"},E={key:0},_=(0,a.Lk)("h2",null,"Login",-1),L=(0,a.Lk)("button",{type:"submit"},"Login",-1),v={key:1},k=(0,a.Lk)("h2",null,"Sign Up",-1),A=(0,a.Lk)("button",{type:"submit"},"Sign Up",-1),C={key:2},O=(0,a.Lk)("h2",null,"Profile Information",-1),D={class:"text-area",ref:"chatMessages"},M={class:"chat-input"},w=["disabled"];function I(e,t,n,l,u,c){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",r,[(0,a.Lk)("div",{class:(0,o.C4)(["menu-bar",{expanded:u.menuOpen}])},[(0,a.Lk)("div",{class:"menu-button",onClick:t[0]||(t[0]=(...e)=>c.toggleMenu&&c.toggleMenu(...e))},p),u.menuOpen?((0,a.uX)(),(0,a.CE)("div",d,"Made by Wilson Li :)")):(0,a.Q3)("",!0)],2),h,(0,a.Lk)("div",g,[(0,a.Lk)("select",m,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.grades,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,o.v_)(e)+"th Grade",9,f)))),128))])]),(0,a.Lk)("div",{class:"profile-picture",onClick:t[1]||(t[1]=(...e)=>c.toggleProfileMenu&&c.toggleProfileMenu(...e))}),u.profileMenuOpen?((0,a.uX)(),(0,a.CE)("div",y,["login"===u.currentForm?((0,a.uX)(),(0,a.CE)("div",E,[_,(0,a.Lk)("form",{onSubmit:t[5]||(t[5]=(0,s.D$)(((...e)=>c.handleLogin&&c.handleLogin(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>u.loginData.email=e),placeholder:"Email",required:""},null,512),[[s.Jo,u.loginData.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>u.loginData.password=e),placeholder:"Password",required:""},null,512),[[s.Jo,u.loginData.password]]),L,(0,a.Lk)("p",{onClick:t[4]||(t[4]=e=>c.switchForm("signup"))},"Don't have an account? Sign up")],32)])):(0,a.Q3)("",!0),"signup"===u.currentForm?((0,a.uX)(),(0,a.CE)("div",v,[k,(0,a.Lk)("form",{onSubmit:t[10]||(t[10]=(0,s.D$)(((...e)=>c.handleSignup&&c.handleSignup(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>u.signupData.fullName=e),placeholder:"Full Name",required:""},null,512),[[s.Jo,u.signupData.fullName]]),(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[7]||(t[7]=e=>u.signupData.email=e),placeholder:"Email",required:""},null,512),[[s.Jo,u.signupData.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[8]||(t[8]=e=>u.signupData.password=e),placeholder:"Password",required:""},null,512),[[s.Jo,u.signupData.password]]),A,(0,a.Lk)("p",{onClick:t[9]||(t[9]=e=>c.switchForm("login"))},"Already have an account? Login")],32)])):(0,a.Q3)("",!0),"profile"===u.currentForm?((0,a.uX)(),(0,a.CE)("div",C,[O,(0,a.Lk)("p",null,"Full Name: "+(0,o.v_)(u.profileData.fullName),1),(0,a.Lk)("p",null,"Email: "+(0,o.v_)(u.profileData.email),1),(0,a.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>c.handleLogout&&c.handleLogout(...e))},"Logout")])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("div",D,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.responses,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:(0,o.C4)(c.isUserMessage(e.text)?"user-message":"ai-message")},[(0,a.Lk)("p",null,(0,o.v_)(e.text),1)],2)))),128))],512)],512),(0,a.Lk)("div",M,[(0,a.bo)((0,a.Lk)("input",{ref:"inputField",class:"text-box",type:"text","onUpdate:modelValue":t[12]||(t[12]=e=>u.inputValue=e),onKeyup:t[13]||(t[13]=(0,s.jR)(((...e)=>c.sendMessage&&c.sendMessage(...e)),["enter"])),disabled:u.sendingMessage,placeholder:"Type your message here..."},null,40,w),[[s.Jo,u.inputValue]])])],512)}n(4114);var P=n(114),b=n(6400),S=n(7844),N=n(8704),T=n(6288);const x={apiKey:"AIzaSyCDg3rEFIVLueBFCm3zDtuZQnM1B0_kLMo",authDomain:"eeee-e75c9.firebaseapp.com",projectId:"eeee-e75c9",storageBucket:"eeee-e75c9.appspot.com",messagingSenderId:"589198895448",appId:"1:589198895448:web:7e45f45ad7bfefa1fc9d2d",measurementId:"G-J0X59J3JNX"},U=(0,b.Wp)(x),V=(0,P.xI)(U),R=(0,S.c7)(U);var F={name:"App",data(){return{menuOpen:!1,profileMenuOpen:!1,inputValue:"",responses:[],sendingMessage:!1,genAI:null,model:null,grades:[5,6,7,8,9,10,11,12],generationConfig:{temperature:1,topP:.95,topK:64,maxOutputTokens:8192},safetySettings:[{category:T.DE.HARM_CATEGORY_HARASSMENT,threshold:T.vk.BLOCK_LOW_AND_ABOVE},{category:T.DE.HARM_CATEGORY_HATE_SPEECH,threshold:T.vk.BLOCK_LOW_AND_ABOVE},{category:T.DE.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:T.vk.BLOCK_LOW_AND_ABOVE},{category:T.DE.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:T.vk.BLOCK_LOW_AND_ABOVE}],currentForm:"login",loginData:{email:"",password:""},signupData:{fullName:"",email:"",password:""},profileData:{fullName:"",email:""},errorMessage:""}},methods:{toggleMenu(){this.menuOpen=!this.menuOpen},toggleProfileMenu(){this.profileMenuOpen=!this.profileMenuOpen},switchForm(e){this.currentForm=e,this.errorMessage=""},async handleSignup(){const{fullName:e,email:t,password:n}=this.signupData;try{const s=await(0,P.eJ)(V,t,n),a=s.user;await(0,P.r7)(a,{displayName:e}),this.profileData={fullName:a.displayName,email:a.email},this.switchForm("profile")}catch(s){"auth/email-already-in-use"===s.code?this.errorMessage="The email address is already in use.":this.errorMessage="Signup error. Please try again."}},async handleLogin(){const{email:e,password:t}=this.loginData;try{const n=await(0,P.x9)(V,e,t),s=n.user;this.profileData={fullName:s.displayName,email:s.email},this.switchForm("profile"),this.loadChatHistory(s.uid)}catch(n){this.errorMessage="Login error. Please try again."}},async handleLogout(){try{await(0,P.CI)(V),this.profileData={fullName:"",email:""},this.switchForm("login")}catch(e){console.error("Logout error:",e)}},async sendMessage(){if(""===this.inputValue.trim())return;this.sendingMessage=!0;const e=this.inputValue,t={id:Date.now(),text:`You: ${e}`};this.responses.push(t),this.inputValue="";try{const t=this.model.startChat({generationConfig:this.generationConfig,safetySettings:this.safetySettings,history:this.responses.map((e=>({role:"user",parts:[{text:e.text.slice(5)}]})))}),n=await t.sendMessage(e),s={id:Date.now(),text:`Gemini: ${await n.response.text()}`};this.responses.push(s)}catch(n){console.error("Error:",n)}finally{this.sendingMessage=!1,this.$nextTick((()=>{this.$refs.inputField.focus(),this.scrollToBottom()}))}this.saveChatHistory()},scrollToBottom(){this.$nextTick((()=>{const e=this.$refs.chatContainer;e.scrollTop=e.scrollHeight}))},isUserMessage(e){return e.startsWith("You:")},async saveChatHistory(){const e=V.currentUser;if(!e)return;const t=JSON.stringify(this.responses);N.A.set("chatHistory",t);const n=(0,S.KR)(R,`chats/${e.uid}.json`);try{await(0,S.ls)(n,t)}catch(s){console.error("Error saving chat history:",s)}},async loadChatHistory(e){const t=N.A.get("chatHistory");if(t)return void(this.responses=JSON.parse(t));const n=(0,S.KR)(R,`chats/${e}.json`);try{const e=await(0,S.qk)(n),t=await fetch(e),s=await t.json();this.responses=s}catch(s){console.error("Error loading chat history:",s)}}},async mounted(){const e="AIzaSyBQhziKC8Xmq59IX48qJnx4E7m7oxG9lJs",t={NODE_ENV:"production",VUE_APP_GEMINI_API_KEY:"AIzaSyBQhziKC8Xmq59IX48qJnx4E7m7oxG9lJs",VUE_APP_API_KEY:"AIzaSyCDg3rEFIVLueBFCm3zDtuZQnM1B0_kLMo",VUE_APP_AUTH_DOMAIN:"eeee-e75c9.firebaseapp.com",VUE_APP_PROJECT_ID:"eeee-e75c9",VUE_APP_STORAGE_BUCKET:"eeee-e75c9.appspot.com",VUE_APP_MESSAGING_SENDER_ID:"589198895448",VUE_APP_APP_ID:"1:589198895448:web:7e45f45ad7bfefa1fc9d2d",VUE_APP_MEASUREMENT_ID:"G-J0X59J3JNX",BASE_URL:"/ai-project/"}.VUE_APP_PROMT;console.log(t),this.genAI=new T.ij(e),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:t,history:this.responses.map((e=>({role:"user",parts:[{text:e.text.slice(5)}]})))}),this.scrollToBottom()}},B=n(1241);const J=(0,B.A)(F,[["render",I]]);var X=J,H=n(1387);const G=[{path:"/",component:X}],K=(0,H.aE)({history:(0,H.LA)(),routes:G});(0,s.Ef)(X).use(K).mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,o){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],o=e[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,i=s[0],r=s[1],l=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var c=l(n)}for(t&&t(s);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},s=self["webpackChunkai_project"]=self["webpackChunkai_project"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],(function(){return n(6329)}));s=n.O(s)})();
//# sourceMappingURL=app.ee0d9086.js.map